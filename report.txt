[root@epbyminw2629 .chef]# knife bootstrap 192.0.122.10 -N node-one --ssh-user root -P vagrant -r role[Appserver] -E Chef-dev
Node node-one exists, overwrite it? (Y/N) y
Client node-one exists, overwrite it? (Y/N) y
Creating new client for node-one
Creating new node for node-one
Connecting to 192.0.122.10
192.0.122.10 -----> Existing Chef installation detected
192.0.122.10 Starting the first Chef Client run...
192.0.122.10 [2017-04-10T13:12:00+01:00] INFO: Forking chef instance to converge...
192.0.122.10 Starting Chef Client, version 12.19.36
192.0.122.10 [2017-04-10T13:12:00+01:00] INFO: *** Chef 12.19.36 ***
192.0.122.10 [2017-04-10T13:12:00+01:00] INFO: Platform: x86_64-linux
192.0.122.10 [2017-04-10T13:12:00+01:00] INFO: Chef-client pid: 6582
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Setting the run_list to ["role[Appserver]"] from CLI options
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Run List is [role[Appserver]]
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Run List expands to [my_jboss]
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Starting Chef Run for node-one
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Running start handlers
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Start handlers complete.
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: HTTP Request Returned 404 Not Found: 
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: HTTP Request Returned 404 Not Found: 
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Error while reporting run start to Data Collector. URL: https://node-server/organizations/dolab/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
192.0.122.10 resolving cookbooks for run list: ["my_jboss"]
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Loading cookbooks [my_jboss@1.0.0, java@1.48.0, apt@6.0.1, windows@3.0.4, ohai@5.0.2, homebrew@3.0.0]
192.0.122.10 Synchronizing Cookbooks:
192.0.122.10   - my_jboss (1.0.0)
192.0.122.10   - java (1.48.0)
192.0.122.10   - apt (6.0.1)
192.0.122.10   - ohai (5.0.2)
192.0.122.10   - windows (3.0.4)
192.0.122.10   - homebrew (3.0.0)
192.0.122.10 Installing Cookbook Gems:
192.0.122.10 Compiling Cookbooks...
192.0.122.10 Converging 18 resources
192.0.122.10 Recipe: java::notify
192.0.122.10   * log[jdk-version-changed] action nothing[2017-04-10T13:12:03+01:00] INFO: Processing log[jdk-version-changed] action nothing (java::notify line 29)
192.0.122.10  (skipped due to action :nothing)
192.0.122.10 Recipe: java::openjdk
192.0.122.10   * yum_package[java-1.7.0-openjdk] action install[2017-04-10T13:12:03+01:00] INFO: Processing yum_package[java-1.7.0-openjdk] action install (java::openjdk line 53)
192.0.122.10  (up to date)
192.0.122.10   * yum_package[java-1.7.0-openjdk-devel] action install[2017-04-10T13:12:05+01:00] INFO: Processing yum_package[java-1.7.0-openjdk-devel] action install (java::openjdk line 53)
192.0.122.10  (up to date)
192.0.122.10   * java_alternatives[set-java-alternatives] action set[2017-04-10T13:12:05+01:00] INFO: Processing java_alternatives[set-java-alternatives] action set (java::openjdk line 59)
192.0.122.10  (up to date)
192.0.122.10 Recipe: java::set_java_home
192.0.122.10   * directory[/etc/profile.d] action create[2017-04-10T13:12:08+01:00] INFO: Processing directory[/etc/profile.d] action create (java::set_java_home line 19)
192.0.122.10  (up to date)
192.0.122.10   * template[/etc/profile.d/jdk.sh] action create[2017-04-10T13:12:08+01:00] INFO: Processing template[/etc/profile.d/jdk.sh] action create (java::set_java_home line 23)
192.0.122.10  (up to date)
192.0.122.10 Recipe: my_jboss::install
192.0.122.10   * group[jboss] action create[2017-04-10T13:12:08+01:00] INFO: Processing group[jboss] action create (my_jboss::install line 2)
192.0.122.10  (up to date)
192.0.122.10   * linux_user[jboss] action create[2017-04-10T13:12:08+01:00] INFO: Processing linux_user[jboss] action create (my_jboss::install line 7)
192.0.122.10  (up to date)
192.0.122.10   * remote_file[/opt/jboss-as-7.1.1.Final.tar.gz] action create_if_missing[2017-04-10T13:12:08+01:00] INFO: Processing remote_file[/opt/jboss-as-7.1.1.Final.tar.gz] action create_if_missing (my_jboss::install line 15)
192.0.122.10  (up to date)
192.0.122.10   * execute[extract_jboss] action run[2017-04-10T13:12:08+01:00] INFO: Processing execute[extract_jboss] action run (my_jboss::install line 24)
192.0.122.10  (skipped due to not_if)
192.0.122.10 Recipe: my_jboss::configure
192.0.122.10   * directory[/etc/jboss-as] action create[2017-04-10T13:12:08+01:00] INFO: Processing directory[/etc/jboss-as] action create (my_jboss::configure line 2)
192.0.122.10  (up to date)
192.0.122.10   * template[/etc/jboss-as/jboss-as.conf] action create[2017-04-10T13:12:08+01:00] INFO: Processing template[/etc/jboss-as/jboss-as.conf] action create (my_jboss::configure line 11)
192.0.122.10  (up to date)
192.0.122.10   * template[/etc/init.d/jboss] action create[2017-04-10T13:12:08+01:00] INFO: Processing template[/etc/init.d/jboss] action create (my_jboss::configure line 23)
192.0.122.10  (up to date)
192.0.122.10   * service[jboss] action enable[2017-04-10T13:12:08+01:00] INFO: Processing service[jboss] action enable (my_jboss::configure line 35)
192.0.122.10  (up to date)
192.0.122.10   * service[jboss] action start[2017-04-10T13:12:08+01:00] INFO: Processing service[jboss] action start (my_jboss::configure line 35)
192.0.122.10  (up to date)
192.0.122.10 Recipe: my_jboss::deploy
192.0.122.10   * yum_package[unzip] action install[2017-04-10T13:12:08+01:00] INFO: Processing yum_package[unzip] action install (my_jboss::deploy line 2)
192.0.122.10  (up to date)
192.0.122.10   * remote_file[/opt/testweb.zip] action create[2017-04-10T13:12:08+01:00] INFO: Processing remote_file[/opt/testweb.zip] action create (my_jboss::deploy line 7)
192.0.122.10  (up to date)
192.0.122.10   * bash[unpack application] action run[2017-04-10T13:12:09+01:00] INFO: Processing bash[unpack application] action run (my_jboss::deploy line 15)
192.0.122.10  (skipped due to not_if)
192.0.122.10   * template[/opt/jboss-as-7.1.1.Final/standalone/deployments/hudson/hudson.xml] action create[2017-04-10T13:12:09+01:00] INFO: Processing template[/opt/jboss-as-7.1.1.Final/standalone/deployments/hudson/hudson.xml] action create (my_jboss::deploy line 26)
192.0.122.10  (up to date)
192.0.122.10 [2017-04-10T13:12:09+01:00] INFO: Chef Run complete in 6.189932224 seconds
192.0.122.10 
192.0.122.10 Running handlers:
192.0.122.10 [2017-04-10T13:12:09+01:00] INFO: Running report handlers
192.0.122.10 Running handlers complete
192.0.122.10 [2017-04-10T13:12:09+01:00] INFO: Report handlers complete
192.0.122.10 Chef Client finished, 0/19 resources updated in 09 seconds
[root@epbyminw2629 .chef]# knife bootstrap 192.0.122.10 -N node-one --ssh-user root -P vagrant -r role[Appserver] -E Chef-dev
Node node-one exists, overwrite it? (Y/N) y
Client node-one exists, overwrite it? (Y/N) y
Creating new client for node-one
Creating new node for node-one
Connecting to 192.0.122.10
192.0.122.10 -----> Existing Chef installation detected
192.0.122.10 Starting the first Chef Client run...
192.0.122.10 [2017-04-10T13:12:00+01:00] INFO: Forking chef instance to converge...
192.0.122.10 Starting Chef Client, version 12.19.36
192.0.122.10 [2017-04-10T13:12:00+01:00] INFO: *** Chef 12.19.36 ***
192.0.122.10 [2017-04-10T13:12:00+01:00] INFO: Platform: x86_64-linux
192.0.122.10 [2017-04-10T13:12:00+01:00] INFO: Chef-client pid: 6582
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Setting the run_list to ["role[Appserver]"] from CLI options
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Run List is [role[Appserver]]
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Run List expands to [my_jboss]
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Starting Chef Run for node-one
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Running start handlers
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Start handlers complete.
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: HTTP Request Returned 404 Not Found: 
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: HTTP Request Returned 404 Not Found: 
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Error while reporting run start to Data Collector. URL: https://node-server/organizations/dolab/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
192.0.122.10 resolving cookbooks for run list: ["my_jboss"]
192.0.122.10 [2017-04-10T13:12:03+01:00] INFO: Loading cookbooks [my_jboss@1.0.0, java@1.48.0, apt@6.0.1, windows@3.0.4, ohai@5.0.2, homebrew@3.0.0]
192.0.122.10 Synchronizing Cookbooks:
192.0.122.10   - my_jboss (1.0.0)
192.0.122.10   - java (1.48.0)
192.0.122.10   - apt (6.0.1)
192.0.122.10   - ohai (5.0.2)
192.0.122.10   - windows (3.0.4)
192.0.122.10   - homebrew (3.0.0)
192.0.122.10 Installing Cookbook Gems:
192.0.122.10 Compiling Cookbooks...
192.0.122.10 Converging 18 resources
192.0.122.10 Recipe: java::notify
192.0.122.10   * log[jdk-version-changed] action nothing[2017-04-10T13:12:03+01:00] INFO: Processing log[jdk-version-changed] action nothing (java::notify line 29)
192.0.122.10  (skipped due to action :nothing)
192.0.122.10 Recipe: java::openjdk
192.0.122.10   * yum_package[java-1.7.0-openjdk] action install[2017-04-10T13:12:03+01:00] INFO: Processing yum_package[java-1.7.0-openjdk] action install (java::openjdk line 53)
192.0.122.10  (up to date)
192.0.122.10   * yum_package[java-1.7.0-openjdk-devel] action install[2017-04-10T13:12:05+01:00] INFO: Processing yum_package[java-1.7.0-openjdk-devel] action install (java::openjdk line 53)
192.0.122.10  (up to date)
192.0.122.10   * java_alternatives[set-java-alternatives] action set[2017-04-10T13:12:05+01:00] INFO: Processing java_alternatives[set-java-alternatives] action set (java::openjdk line 59)
192.0.122.10  (up to date)
192.0.122.10 Recipe: java::set_java_home
192.0.122.10   * directory[/etc/profile.d] action create[2017-04-10T13:12:08+01:00] INFO: Processing directory[/etc/profile.d] action create (java::set_java_home line 19)
192.0.122.10  (up to date)
192.0.122.10   * template[/etc/profile.d/jdk.sh] action create[2017-04-10T13:12:08+01:00] INFO: Processing template[/etc/profile.d/jdk.sh] action create (java::set_java_home line 23)
192.0.122.10  (up to date)
192.0.122.10 Recipe: my_jboss::install
192.0.122.10   * group[jboss] action create[2017-04-10T13:12:08+01:00] INFO: Processing group[jboss] action create (my_jboss::install line 2)
192.0.122.10  (up to date)
192.0.122.10   * linux_user[jboss] action create[2017-04-10T13:12:08+01:00] INFO: Processing linux_user[jboss] action create (my_jboss::install line 7)
192.0.122.10  (up to date)
192.0.122.10   * remote_file[/opt/jboss-as-7.1.1.Final.tar.gz] action create_if_missing[2017-04-10T13:12:08+01:00] INFO: Processing remote_file[/opt/jboss-as-7.1.1.Final.tar.gz] action create_if_missing (my_jboss::install line 15)
192.0.122.10  (up to date)
192.0.122.10   * execute[extract_jboss] action run[2017-04-10T13:12:08+01:00] INFO: Processing execute[extract_jboss] action run (my_jboss::install line 24)
192.0.122.10  (skipped due to not_if)
192.0.122.10 Recipe: my_jboss::configure
192.0.122.10   * directory[/etc/jboss-as] action create[2017-04-10T13:12:08+01:00] INFO: Processing directory[/etc/jboss-as] action create (my_jboss::configure line 2)
192.0.122.10  (up to date)
192.0.122.10   * template[/etc/jboss-as/jboss-as.conf] action create[2017-04-10T13:12:08+01:00] INFO: Processing template[/etc/jboss-as/jboss-as.conf] action create (my_jboss::configure line 11)
192.0.122.10  (up to date)
192.0.122.10   * template[/etc/init.d/jboss] action create[2017-04-10T13:12:08+01:00] INFO: Processing template[/etc/init.d/jboss] action create (my_jboss::configure line 23)
192.0.122.10  (up to date)
192.0.122.10   * service[jboss] action enable[2017-04-10T13:12:08+01:00] INFO: Processing service[jboss] action enable (my_jboss::configure line 35)
192.0.122.10  (up to date)
192.0.122.10   * service[jboss] action start[2017-04-10T13:12:08+01:00] INFO: Processing service[jboss] action start (my_jboss::configure line 35)
192.0.122.10  (up to date)
192.0.122.10 Recipe: my_jboss::deploy
192.0.122.10   * yum_package[unzip] action install[2017-04-10T13:12:08+01:00] INFO: Processing yum_package[unzip] action install (my_jboss::deploy line 2)
192.0.122.10  (up to date)
192.0.122.10   * remote_file[/opt/testweb.zip] action create[2017-04-10T13:12:08+01:00] INFO: Processing remote_file[/opt/testweb.zip] action create (my_jboss::deploy line 7)
192.0.122.10  (up to date)
192.0.122.10   * bash[unpack application] action run[2017-04-10T13:12:09+01:00] INFO: Processing bash[unpack application] action run (my_jboss::deploy line 15)
192.0.122.10  (skipped due to not_if)
192.0.122.10   * template[/opt/jboss-as-7.1.1.Final/standalone/deployments/hudson/hudson.xml] action create[2017-04-10T13:12:09+01:00] INFO: Processing template[/opt/jboss-as-7.1.1.Final/standalone/deployments/hudson/hudson.xml] action create (my_jboss::deploy line 26)
192.0.122.10  (up to date)
192.0.122.10 [2017-04-10T13:12:09+01:00] INFO: Chef Run complete in 6.189932224 seconds
192.0.122.10 
192.0.122.10 Running handlers:
192.0.122.10 [2017-04-10T13:12:09+01:00] INFO: Running report handlers
192.0.122.10 Running handlers complete
192.0.122.10 [2017-04-10T13:12:09+01:00] INFO: Report handlers complete
192.0.122.10 Chef Client finished, 0/19 resources updated in 09 seconds

